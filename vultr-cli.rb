# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class VultrCli < Formula
  desc "Official command-line tool for Vultr services"
  homepage "https://github.com/vultr/vultr-cli"
  version "3.0.1"

  on_macos do
    if Hardware::CPU.arm?
      url "https://github.com/vultr/vultr-cli/releases/download/v3.0.1/vultr-cli_v3.0.1_macOs_arm64.tar.gz"
      sha256 "c96b5cba9c29cc2891572ad7150414515b39bb13bb28347652a2b1d6bb5eee76"

      def install
        bin.install "vultr-cli"
        prefix.install_metafiles
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/vultr/vultr-cli/releases/download/v3.0.1/vultr-cli_v3.0.1_macOs_amd64.tar.gz"
      sha256 "d9531d66938cf9935c1ba8269e87af82d8bf773faf4b9147cc529b8ba84b6252"

      def install
        bin.install "vultr-cli"
        prefix.install_metafiles
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel?
      url "https://github.com/vultr/vultr-cli/releases/download/v3.0.1/vultr-cli_v3.0.1_linux_amd64.tar.gz"
      sha256 "839d9289989974e29f195e58c2d9a18b84ec752cf817d1562be16c9d54569abd"

      def install
        bin.install "vultr-cli"
        prefix.install_metafiles
      end
    end
    if Hardware::CPU.arm? && !Hardware::CPU.is_64_bit?
      url "https://github.com/vultr/vultr-cli/releases/download/v3.0.1/vultr-cli_v3.0.1_linux_arm32-v6.tar.gz"
      sha256 "9cc976df4e3431b576af3de6df9e73bc29c1d2910d9caf08d839090f45baf72f"

      def install
        bin.install "vultr-cli"
        prefix.install_metafiles
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/vultr/vultr-cli/releases/download/v3.0.1/vultr-cli_v3.0.1_linux_arm64.tar.gz"
      sha256 "cb35e41ae720224a2e83e4845e3cb56fbeaa862e885698c2cb959a08d0c1fab3"

      def install
        bin.install "vultr-cli"
        prefix.install_metafiles
      end
    end
  end

  test do
    output = shell_output("#{bin}/vultr-cli version 2>&1", 1)
    assert_match "Please export your VULTR API key as an environment variable or add `api-key` to your config file, eg:\nexport VULTR_API_KEY='<api_key_from_vultr_account>'\n", output
  end
end
