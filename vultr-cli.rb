# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class VultrCli < Formula
  desc "Official command-line tool for Vultr services"
  homepage "https://github.com/vultr/vultr-cli"
  version "3.3.0"

  on_macos do
    on_intel do
      url "https://github.com/vultr/vultr-cli/releases/download/v3.3.0/vultr-cli_v3.3.0_macOs_amd64.tar.gz"
      sha256 "ec17d5edbc65f81c55da4ed78bf59357f1bca3126b62536337168e9e37d7c63f"

      def install
        bin.install "vultr-cli"
        prefix.install_metafiles
      end
    end
    on_arm do
      url "https://github.com/vultr/vultr-cli/releases/download/v3.3.0/vultr-cli_v3.3.0_macOs_arm64.tar.gz"
      sha256 "de657390446a15343b33916b582669a92bd09780f72c52d64cec719cb8f4c73e"

      def install
        bin.install "vultr-cli"
        prefix.install_metafiles
      end
    end
  end

  on_linux do
    on_intel do
      if Hardware::CPU.is_64_bit?
        url "https://github.com/vultr/vultr-cli/releases/download/v3.3.0/vultr-cli_v3.3.0_linux_amd64.tar.gz"
        sha256 "407051b01556e260f0b4a6268d7c2f990c0968a058a4754bd6e98e6fe5cbaef0"

        def install
          bin.install "vultr-cli"
          prefix.install_metafiles
        end
      end
    end
    on_arm do
      if !Hardware::CPU.is_64_bit?
        url "https://github.com/vultr/vultr-cli/releases/download/v3.3.0/vultr-cli_v3.3.0_linux_arm32-v6.tar.gz"
        sha256 "954aa3a27d373c807f1493d165b5e938b18b42b5efa3c229da3f6b401be1de67"

        def install
          bin.install "vultr-cli"
          prefix.install_metafiles
        end
      end
    end
    on_arm do
      if Hardware::CPU.is_64_bit?
        url "https://github.com/vultr/vultr-cli/releases/download/v3.3.0/vultr-cli_v3.3.0_linux_arm64.tar.gz"
        sha256 "9177a6e21b225991ed4b268c96d68e077d67d80de9a8d473b7fcf4b826bade15"

        def install
          bin.install "vultr-cli"
          prefix.install_metafiles
        end
      end
    end
  end

  test do
    output = shell_output("#{bin}/vultr-cli version 2>&1", 1)
    assert_match "Please export your VULTR API key as an environment variable or add `api-key` to your config file, eg:\nexport VULTR_API_KEY='<api_key_from_vultr_account>'\n", output
  end
end
